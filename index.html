<!doctype html>
<html>
<head>
	<meta charset='utf-8'/>
	<title>你好，我 叫 陳基業.</title>
	<link rel="stylesheet" href="src/default.css"/>
	<style>
		#modal {
			background:white;
			padding: 4px;
			border-radius: 2px;
			position:absolute;
			font-size:14px;
			color:hsl(0,0%,25%);
			box-shadow: 0 2px 4px hsla(0,0%,0%,0.3), -2px 2px 4px hsla(0,0%,0%,0.3);
			border: solid 1px hsl(0,0%,70%);
			min-width:200px;
		}
		#modal:before {
			content:'';
			position:absolute;
			width:0;
			height:0;
			border-bottom: 8px solid hsl(0,0%,50%);
			border-left: 4px solid transparent;
			border-right: 5px solid transparent;
			top:-8px;
			left:4px;
		}
		#modal:after {
			content:'';
			position:absolute;
			width:0;
			height:0;
			border-bottom: 8px solid white;
			border-left: 4px solid transparent;
			border-right: 4px solid transparent;
			top:-8px;
			left:4px;
		}
	</style>
</head>
<body>
	<div id="hello">你<br/>好,<br/>我<br/>叫<br/>陈<br/>基<br/>业。<br/></div>
	<div id="modal">
		Creates a table.
	</div>
	<article>
		<div class="panel-title">
			<div class="date">二零一四年 二月 二日</div>
			<div class="sentence title">今年 我会 好好学 中文.</div>
		</div>
		<div class="panel-body">
			<div class="sentence">我是 一位 <i title="Yà yì měiguó rén (Asian American)">亚裔美国人</i>, 来自 开平.</div>
			<div class="sentence">我 很年轻的 来到 美国.</div>
			<div class="sentence">我的 家人 和 我 <i title="jiǎng (speak)">讲</i> <i title="yuèyǔ (Cantonese)">粤语</i>,
				而且 我 在 美国 <i title="cānjiāle (attended)">参加了</i> 两年 <i title="guǎngdōnghuà">广东话</i> 学校.
			</div>
			<div class="sentence">所以 我 比 其他人 在 美国 长大 <i title="Liǎojiě (understand)">了解</i> 多一点 中国文化.</div>
			<div class="sentence">但 二十八岁的我 还是 看不懂 书, 所以 我 决定 今年 一定要 <i title="Xuéhuì (become skilled at)">学会</i> 看书.</div>
			<div class="row">
				<div>
					<i title="Tóng yì zì (synonyms)">同义字</i>:
					<ul>
						<li>明白, 了解</li>
						<li>广东话, 粤语</li>
					</ul>
				</div>
				<div>
					<i title="Liáncí (conjunctions)">连词</i>:
					<ul>
						<li>而且</li>
						<li>所以</li>
						<li>但</li>
					</ul>
				</div>
			</div>
		</div>
	</article>
	<script>
		var require = {
			paths: {
				text: '../lib/require-plugins/text',
				data: '../data/'
			}
		};
	</script>
	<script src='lib/lodash.js'></script>
	<script src='lib/lodash-plugins/lazy.js'></script>
	<script src='lib/jquery.js'></script>
	<script type="text/plain" id="bpmf">
		[
			[ㄅ 八 b]
			[ㄆ 杷 p]
			[ㄇ 馬 m]
			[ㄈ 法 f]
			[ㄉ 地 d]
			[ㄊ 提 t]
			[ㄋ 乃 n]
			[ㄌ 力 l]
			[ㄍ 告 g]
			[ㄎ 考 k]
			[ㄏ 好 h]
			[ㄐ 叫 j]
			[ㄑ 巧 q]
			[ㄒ 下 x]
			[ㄓ 之 zh]
			[ㄔ 彳 ch]
			[ㄕ 尸 sh]
			[ㄖ 日 r]
			[ㄗ 在 z]
			[ㄘ 才 c]
			[ㄙ 私 s]
		].triplets
	</script>
	<script src="lib/require.js" data-main="src/main.js"></script>
	<script>
		$('body').on('focus', 'button.node', function(event) {
			var $button = $(event.currentTarget)
			var $modal = $('#modal')
			var size = {
				w: $button.outerWidth(),
				h: $button.outerHeight()
			}
			var offset = $button.offset();
			$modal
				.show()
				.offset({
					left: offset.left,
					top: offset.top + size.h + 8
				})
		});
		$(document).on('mousedown.MODALCLICK', function(event) {
			if ($(event.target).closest('#modal')[0]) return;
			if ($(event.target).closest('button.node')[0]) return;
			$('#modal').hide();
		})
	</script>
</body>
</html>
